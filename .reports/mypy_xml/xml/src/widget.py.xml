<?xml-stylesheet type="text/xsl" href="../../mypy-html.xslt"?><mypy-report-file name="src\widget.py" module="src.widget"><line any_info="No Anys on this line!" content="import re" number="1" precision="precise"/><line any_info="No Anys on this line!" content="from datetime import datetime" number="2" precision="precise"/><line any_info="No Anys on this line!" content="from typing import Union" number="3" precision="precise"/><line any_info="No Anys on this line!" content="" number="4" precision="empty"/><line any_info="No Anys on this line!" content="from masks import get_mask_account, get_mask_card_number" number="5" precision="any"/><line any_info="No Anys on this line!" content="" number="6" precision="empty"/><line any_info="No Anys on this line!" content="" number="7" precision="empty"/><line any_info="No Anys on this line!" content="def mask_account_card(input_string: str) -&gt; str:" number="8" precision="precise"/><line any_info="No Anys on this line!" content="" number="9" precision="empty"/><line any_info="No Anys on this line!" content="    match = re.match(r&quot;(.*)\s+(\d+)&quot;, input_string)" number="10" precision="precise"/><line any_info="No Anys on this line!" content="    if not match:" number="11" precision="precise"/><line any_info="No Anys on this line!" content="        raise ValueError(&quot;Неверный формат ввода&quot;)" number="12" precision="precise"/><line any_info="No Anys on this line!" content="" number="13" precision="empty"/><line any_info="Any Types on this line: &#10;Omitted Generics (x2)" content="    name_part, number_part = match.groups()" number="14" precision="precise"/><line any_info="No Anys on this line!" content="" number="15" precision="empty"/><line any_info="No Anys on this line!" content="    try:" number="16" precision="empty"/><line any_info="No Anys on this line!" content="        number = int(number_part)" number="17" precision="precise"/><line any_info="No Anys on this line!" content="" number="18" precision="empty"/><line any_info="No Anys on this line!" content="        # Определение типа и применение соответствующей маски" number="19" precision="empty"/><line any_info="No Anys on this line!" content="        if any(keyword in name_part for keyword in [&quot;Visa&quot;, &quot;Maestro&quot;, &quot;MasterCard&quot;]):" number="20" precision="precise"/><line any_info="Any Types on this line: &#10;Unimported (x3)" content="            masked_number = get_mask_card_number(number)" number="21" precision="any"/><line any_info="No Anys on this line!" content="        else:" number="22" precision="empty"/><line any_info="Any Types on this line: &#10;Unimported (x3)" content="            masked_number = get_mask_account(number)" number="23" precision="any"/><line any_info="No Anys on this line!" content="" number="24" precision="empty"/><line any_info="Any Types on this line: &#10;Unimported (x1)" content="        return f&quot;{name_part} {masked_number}&quot;" number="25" precision="any"/><line any_info="No Anys on this line!" content="    except Exception as e:" number="26" precision="precise"/><line any_info="No Anys on this line!" content="        raise ValueError(f&quot;Ошибка обработки данных: {e}&quot;)" number="27" precision="precise"/><line any_info="No Anys on this line!" content="" number="28" precision="empty"/><line any_info="No Anys on this line!" content="" number="29" precision="empty"/><line any_info="No Anys on this line!" content="def get_date(iso_date: str) -&gt; str:" number="30" precision="precise"/><line any_info="No Anys on this line!" content="" number="31" precision="empty"/><line any_info="No Anys on this line!" content="    dt = datetime.fromisoformat(iso_date)" number="32" precision="precise"/><line any_info="No Anys on this line!" content="    return dt.strftime(&quot;%d.%m.%Y&quot;)" number="33" precision="precise"/></mypy-report-file>